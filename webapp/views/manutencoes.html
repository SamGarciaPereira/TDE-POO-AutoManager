<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciar Manutenções</title>
    <link rel="stylesheet" href="../static/styles/styles2.css">
</head>
<body>
    <div class="layout">
        <div id="sidebar-container"></div>

        <main class="conteudo">
            <h1>Gerenciamento de Manutenções</h1>

            <button id="btn-abrir-modal" class="btn">Criar Manutenção</button>

            <div id="modal-manutencao" class="modal">
                <div class="modal-content">
                    <span id="btn-fechar-modal" class="close">&times;</span>
                    
                    <h2 id="modal-titulo">Cadastrar Manutenção</h2>

                    <form id="form-manutencao">
                        <input type="hidden" id="id_manutencao" name="id_manutencao">

                        <div class="form-group">
                            <label for="select-veiculo">Veículo</label>
                            <select id="select-veiculo" name="idVeiculoFk" required>
                                <option value="">Carregando...</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="descricao">Descrição do Serviço</label>
                            <input id="descricao" name="descricao" type="text" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="status">Status</label>
                            <select id="status" name="statusServico" required>
                                <option value="Pendente">Pendente</option>
                                <option value="Em Andamento">Em Andamento</option>
                                <option value="Concluído">Concluído</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn">Salvar Manutenção</button>
                        <p id="mensagem-sucesso" class="mensagem sucesso"></p>
                        <p id="mensagem-erro" class="mensagem erro"></p>
                    </form>
                </div>
            </div>

            <hr>

            <h2>Manutenções Cadastradas</h2>
            <div class="card">
                <table id="tabela-manutencoes">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Status</th>
                            <th>Serviço</th>
                            <th>Veículo (Placa)</th>
                            <th>Data Entrada</th>
                            <th>Data Saída</th>
                            <th>Ações</th> </tr>
                    </thead>
                    <tbody id="lista-manutencoes">
                        </tbody>
                </table>
            </div>
        </main>
    </div>

    <script src="../static/js/global.js"></script>
    <script src="../static/js/manutencoes.js"></script>
</body>
</html>